# vim 使用

## 命令

+ `.`: 重复上次修改
+ `u`: 撤回上一个更改, 与 `.` 相对
+ `>G`: 从当前行到文档末尾的缩进层级, 增加一个 tab 宽度
+ `>>`: 增加缩进当前行 `>5>` 缩进光标之后五行(含光标)
+ `<<`: 减小缩进当前行
+ `A`: 在当前行末尾添加内容
+ `I`: 在当前行头部添加内容
+ `a`: 在当前+光标后添加+内容
+ `i`: 在当前光标前添加内容

## 移动

+ `b`: 左移一个单词
+ `w`: 右移一个单词
+ `:20+10`: 将光标移动到 30 行

## 查找

### 行内查找

+ `f{char}`: 查找字符
  + `fx`: 从光标开始向后查找 `x` 字符
+ `F{char}`: 反向移动到上一个 `{char}` 字符处
  + `Fx`: 将光标移动到上一个 `x` 字符处
+ `t{char}`: 正向移动到下一个 `{char}` 字符前的一个字符上
+ `T{char}`: 反向移动到上一个 `{char}` 字符后的一个字符上
+ `;`: 重复查找上次 `f` 命令查找字符，限当前行，向下查找
+ `,`: 与 `;` 相对，重复上次`f`命令，向上查找

### 文档内查找

+ `/pattern<CR>`: 在文档中查找下一处匹配 `<CR>` 表示回车
+ `?pattern<CR>`: 在文档中查找上一处匹配
+ `n`: 重复上一次文档内查找，同上次方向相同
+ `N`: 重复上一次文档内查找，同上交方向相反，与 `n` 相对
+ `*`: 对光标处单词进行查找，向上

## 替换

+ `:[range]{commid}/target/replactment[/g]<CR>`: 文档内替换
  + `:%s/a/b/`: 将所有行中的第一个字母 `a` --> `b`
  + `:41s/a/b/g`: 将41行中的所有的 `a` --> `b`
  + `:40,42s/a/b/`: 将40-42行的第一个字母 `a` --> `b`
+ `&`: 重复上次替换
+ `n<C-x>`: 对当前行, 第一个数字，或光标所在位置数字，进行减 n, n 默认为 1, 并将光标移动到操作数字尾部, 无数字不操作. `<C-x>` 为 Control + x 组件键
+ `n<C-a>`: 同上, 加 n, Control + a 键
  + **注意** 以 `0` 开头的数字，默认为8进制
  + `0x` 为16进制,
  + 可在 `.vimrc`中更改 `nrformats` 配置修改此设定
+ `g~<CR>`: 反转光标(含光标)所在行后所有英文大小写
+ `gU<CR>`: 同上，转大写
+ `gu<CR>`: 同上，转小写
+ `guu`: 小写当前行 `gUU` 大写
+ `guaw`: 转换光标处单词为小写 `gUaw` 大写
+ `gUap`: 转换光标处段落为大写 `guap` 小写

## 删除

+ `db`: 删除光标前的单词, 不含光标内容
+ `dw`: 删除光标后的单词, 含光标
+ `x`: 删除光标处单词
+ `cw`: 从光标处到单词结尾删除并进入插入模式, 连续的中文记一个单词
+ `daw`: 删除光标处单词
+ `dap`: 删除整个段落
+ `:%d`: 删除所有行

## 寄存器

> 使用寄存器要用在寄存器前加 `"` `"a` 使用 a 寄存器

+ `:reg` : 查看所有寄存器内容
+ `:reg *` : 查看 `*` 寄存器内容 `:reg a` `:reg 0`
+ `a-z`: a-z 寄存器，寄存器内容不会自动替换，除非自己手动替换
+ `0-9`: 0-9 寄存器, 自动依次存存储上次删除操作，寄存器内容会补自动替换
+ `"`: 无名寄存器，默认寄存器
+ `_`: 黑洞寄存器, 内容有去无回, `"_dd` 删除当前行至黑洞寄存器
+ `+`: 系统剪切板寄存器
+ `*`: 专用寄存器, 主剪切板, 在 window 与 max os 与 `+` 相同
+ `=`: 表达式寄存器
+ `%`: 当前文件名
+ `#`： 轮换文件名
+ `.`: 上次插入的文本
+ `:`: 上次执行的 ex 命令
+ `/`: 上次查找的模式

### 相关操作

+ `"ayy`: 将当前行复制到 a 寄存器
+ `"ap`: 将 a 寄存器内容粘贴出e
+ `"+p`: 系统的 Control + v
+ `"+y`: 系统的 Control + c
+ `"+x`: 系统的 Control + x
+ `y`: 复制到寄存器
+ `gv`: 重选上次高亮区域
+ `o`: 切换高亮区域活动端

## 标记

+ `:marks` : 列出所有标记
+ `ma` : 在 `光标行` 打上标记 `a` , 不带 `:`
+ `'a` : 移动到标记 `a` 行首
+ `` `a`` : 移动到标记 `a` 的行尾
+ `:delmarks a` : 删除标记 `a`
+ `:delmarks!` ：删除所有标记 *删除标记在webstorm中无用*

## 宏

+ `q{register}...q`: 『开始』『停止』录制宏到 register 寄存器
  + `qa...<esc>q`: 将对应的 `...` 操作录制成宏，并存至 a 寄存器
+ `@{register}`: 使用 `register` 寄存器的宏命令
  + `@a`: 使用 a 寄存器的宏命令
  + `@@`: 使用上一次使用的宏命令
  + `22@@`: 将上次的宏命令执行 `22` 次

(window.webpackJsonp=window.webpackJsonp||[]).push([[60],{358:function(s,a,n){"use strict";n.r(a);var t=n(10),e=Object(t.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"nodejs-与-mongodb-笔记"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nodejs-与-mongodb-笔记"}},[s._v("#")]),s._v(" nodeJS 与 mongoDB 笔记")]),s._v(" "),a("h2",{attrs:{id:"目录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#目录"}},[s._v("#")]),s._v(" 目录")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#mongodb%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E5%90%AF%E5%8A%A8"}},[s._v("mongoDB的安装与启动")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#mac%E4%B8%8Bmongodb%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E5%90%AF%E5%8A%A8"}},[s._v("mac下mongodb的安装与启动")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#mongodb%E8%AF%AD%E6%B3%95"}},[s._v("mongoDB语法")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#nodejs%E5%AE%89%E8%A3%85%E4%B8%8E%E5%90%AF%E5%8A%A8"}},[s._v("nodeJS安装与启动")])])]),s._v(" "),a("h3",{attrs:{id:"mongodb的安装与启动"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mongodb的安装与启动"}},[s._v("#")]),s._v(" mongoDB的安装与启动")]),s._v(" "),a("ol",[a("li",[a("p",[s._v("下载 "),a("code",[s._v("mongoDB")]),s._v(" 安装包并安装")])]),s._v(" "),a("li",[a("p",[s._v("下载 mongoDB 可视化管理工具："),a("code",[s._v("RoboMongo")])])]),s._v(" "),a("li",[a("p",[s._v("配置环境变量")])]),s._v(" "),a("li",[a("p",[s._v("新建数据库目录文件")]),s._v(" "),a("div",{staticClass:"language-text line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("    + C:\\mongodata\n        + db\n        + log\n            mongod.log\n        mongod.cfg\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("数据库初始化, 运行 MongoDB 服务器 "),a("code",[s._v("$ mongod --dbpath=C:\\mongodata\\db")])])]),s._v(" "),a("li",[a("p",[s._v("创建配置文件 "),a("code",[s._v("mongod.cfg")])]),s._v(" "),a("div",{staticClass:"language-text line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("systemLog:\n    destination file\n    path: c:\\mongodata\\log\\mongod.log\nstorage:\n    dbPath: c:\\mongodata\\db\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("安装 mongoDB 服务 "),a("strong",[s._v("要以管理员命令运行")]),s._v(" "),a("code",[s._v('$ mongod --config "c:\\mongodata\\mongod.cfg" --serviceName MongoDB --install')])])]),s._v(" "),a("li",[a("p",[s._v("配置成功后启动方式:")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("net start MongoDB "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 启动服务")]),s._v("\nnet stop MongoDB "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 停止服务")]),s._v("\nmongod "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--remove")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 移除服务")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("使用 mongoDB:  在命令行状态下执行 "),a("code",[s._v("$ mongo")]),s._v(", 启动mongo，执行命令即可")])]),s._v(" "),a("li",[a("p",[s._v("Webstrom 中配置 MongoDB")]),s._v(" "),a("ul",[a("li",[s._v("安装 mongodb 插件 "),a("code",[s._v("mongo plugin")])]),s._v(" "),a("li",[s._v("添加 "),a("code",[s._v("mongo shell")]),s._v(" : "),a("code",[s._v("C:\\Program Files\\MongoDB\\Server\\3.6\\bin\\mongo.exe")])]),s._v(" "),a("li",[s._v("添加 "),a("code",[s._v("servers")]),s._v(", 命名与设置连接数据库")])])]),s._v(" "),a("li",[a("p",[s._v("停止 mongoDB : "),a("code",[s._v("> use admin > db.shutdownServer()")])])])]),s._v(" "),a("hr"),s._v(" "),a("h3",{attrs:{id:"mac下mongodb的安装与启动"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mac下mongodb的安装与启动"}},[s._v("#")]),s._v(" mac下mongodb的安装与启动")]),s._v(" "),a("blockquote",[a("p",[s._v("可直接使用 brew 安装 参考官方文档")])]),s._v(" "),a("ul",[a("li",[a("p",[s._v("下载 "),a("code",[s._v("mongodb")]),s._v(" 安装包 "),a("a",{attrs:{href:"https://www.mongodb.com/download-center?jmp=nav#community",target:"_blank",rel:"noopener noreferrer"}},[s._v("官网"),a("OutboundLink")],1),s._v("  下载"),a("code",[s._v("社区版")]),s._v("即可")])]),s._v(" "),a("li",[a("p",[s._v("将下载的压缩包进行解压，将文件移动到 "),a("code",[s._v("sudo mv ~/Desktop/mongodb-osx-x86_64-3.6.3 /usr/local/mongodb")]),s._v(";")])]),s._v(" "),a("li",[a("p",[s._v("配置环境变量")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" ~\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" .bash_profile\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 添加以下内容")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# mongodb path")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("MONGO_PATH")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/local/mongodb\n    "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PATH")])]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$PATH")]),s._v(":/usr/local/mongodb/bin\n    :wq\n    "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("source")]),s._v(" .bash_profile\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 添加 mongodb 启动别名 配置文件放在 /usr/local/etc 下  --fork 隐藏命令行")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("alias")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("openmongodb")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"mongod --fork -f /usr/local/etc/mongod.conf"')]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("查看安装情况 "),a("code",[s._v("$ mongod --version")])])]),s._v(" "),a("li",[a("p",[s._v("创建数据库目录 直接运行 "),a("code",[s._v("mongod")]),s._v(" 会提示找不到数据库目录")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 创建数据库安装目录")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" ~\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-p")]),s._v(" ./data/db\n$ mongod "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--dbpath")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=~")]),s._v("/data/db\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 新建命令窗口，进行命令")]),s._v("\n$ mongo\n$ db\n$ show dbs\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 关闭后再次进入")]),s._v("\n$ mongod "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--dbpath")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("./zxx/data/db\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("配置--日志与配置文件 "),a("code",[s._v("mongod --help")]),s._v(" 或 "),a("a",{attrs:{href:"http://www.mongodb.org.cn/manual/188.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("配置文件参数"),a("OutboundLink")],1)]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" ~/zxx/data\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 创建日志文件   如果数据库不在当前目录，在系统目录 `/usr/local/` 目录下，要为数据库日志文件添加操作权限")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" log\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("touch")]),s._v(" mongod.log\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 创建配置文件")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" etc\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("touch")]),s._v(" mongod.conf\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 配置文件如下文")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 启动 -f 参数后是 配置文件 的路径")]),s._v("\n$ mongod "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-f")]),s._v(" /etc/mongod.conf\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("配置mac 打开任意源软件")]),s._v(" "),a("ul",[a("li",[s._v("打开："),a("code",[s._v("sudo spctl --master-disable")])]),s._v(" "),a("li",[s._v("关闭："),a("code",[s._v("sudo spctl --master-enable")])])])]),s._v(" "),a("li",[a("p",[s._v("mongodb 关闭")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 方式一 db.shutdownServer()   在 mongo shell 下 进行")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" use admin\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" db.shutdownServer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 方式二  命令行模式下 -- 无用")]),s._v("\n$ mongod "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-f")]),s._v(" /etc/mongod.conf "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--shutdown")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 方式三 kill")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" aux "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" mongod\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("kill")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-2")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])])]),s._v(" "),a("li",[a("p",[a("code",[s._v("mongod.conf")]),s._v(" 配置文件内容")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#数据库数据存放目录")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("dbpath")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/Users/jame/zxx/data/db\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#数据库日志存放目录")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("logpath")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/Users/jame/zxx/data/log/mongod.log\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#以追加的方式记录日志")]),s._v("\nlogappend "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#端口号 默认为27017")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#port=27017")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#以后台方式运行进程")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("fork")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("true\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#开启用户认证")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#auth=true")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#关闭http接口，默认关闭http端口访问")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#nohttpinterface=true")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#mongodb所绑定的ip地址")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#bind_ip = 127.0.0.1")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#启用日志文件，默认启用")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("journal")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("true\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#这个选项可以过滤掉一些无用的日志信息，若需要调试使用请设置为false")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#quiet=true")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("可视化工具 "),a("code",[s._v("Robo 3T")]),s._v(" (studio 3T 收费)")])])]),s._v(" "),a("h3",{attrs:{id:"linux下mongodb-的安启动"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#linux下mongodb-的安启动"}},[s._v("#")]),s._v(" linux下mongodb 的安启动")]),s._v(" "),a("ul",[a("li",[s._v("安装: "),a("code",[s._v("sudo apt install mongodb")]),s._v(";")]),s._v(" "),a("li",[s._v("启动: "),a("code",[s._v("service mongodb start")]),s._v(";")]),s._v(" "),a("li",[s._v("查看是否启动成功：｀pgrep mongo -l｀;")]),s._v(" "),a("li",[s._v("关闭: "),a("code",[s._v("service mongodb stop")]),s._v(";")]),s._v(" "),a("li",[s._v("卸载：｀sudo apt-get --purge remove mongodb mongodb-clients mongodb-server｀")]),s._v(" "),a("li",[s._v("安装位置配置文件查看： "),a("code",[s._v("/etc/mongodb.conf")])])]),s._v(" "),a("h3",{attrs:{id:"快捷命令行"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#快捷命令行"}},[s._v("#")]),s._v(" 快捷命令行")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("alias")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("openmongod")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'sudo mongod --fork -f /etc/mongod.conf'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("alias")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("closemongod")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'sudo mongod --shutdown  --dbpath /var/lib/mongodb'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("alias")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("openmysql")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'sudo service mysql start'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("alias")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("closemysql")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'sudo service mysql stop'")]),s._v("\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("hr"),s._v(" "),a("h3",{attrs:{id:"mongodb语法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mongodb语法"}},[s._v("#")]),s._v(" mongoDB语法")]),s._v(" "),a("p",[a("a",{attrs:{href:"#%E7%9B%AE%E5%BD%95"}},[s._v("目录")])]),s._v(" "),a("ol",[a("li",[a("code",[s._v("> show dbs")]),s._v(" : 查看所有的库")]),s._v(" "),a("li",[a("code",[s._v("> db")]),s._v(" : 显示当前数据库或集合")]),s._v(" "),a("li",[a("code",[s._v("> use portal")]),s._v(" : 打开或创建一个 "),a("code",[s._v("portal")]),s._v(" 数据库")]),s._v(" "),a("li",[a("code",[s._v("> db.dropDatabase()")]),s._v(" : 删除当前库，要删除哪个库，先进入哪个库")]),s._v(" "),a("li",[a("code",[s._v("> db.createCollection(name,option)")]),s._v(" : 创建集合")]),s._v(" "),a("li",[a("code",[s._v("> show collections")]),s._v(" : 显示集合")]),s._v(" "),a("li",[a("code",[s._v("> exit")]),s._v(": 退出数据库")]),s._v(" "),a("li",[a("code",[s._v("> load(script_path)")]),s._v(": 运行JS编写的 MongoDB shell 脚本")])]),s._v(" "),a("h4",{attrs:{id:"管理用户账户"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#管理用户账户"}},[s._v("#")]),s._v(" 管理用户账户")]),s._v(" "),a("ol",[a("li",[a("p",[a("code",[s._v("> show users")]),s._v(": 显示所有用户")])]),s._v(" "),a("li",[a("p",[a("code",[s._v("> db.createUser({})")]),s._v(": 添加用户 "),a("code",[s._v("user roles pwd userSource otherDBRoles")]),s._v(" ，老版本为 "),a("code",[s._v("db.addUser({})")])])]),s._v(" "),a("li",[a("p",[a("code",[s._v("> db.removeUser('userName')")]),s._v(": 删除用户")])]),s._v(" "),a("li",[a("p",[s._v("要为数据库创建和删除用户，先进入数据库 "),a("code",[s._v("use dbName")]),s._v(" 之后再进行上述操作")])]),s._v(" "),a("li",[a("p",[s._v("数据库角色：")]),s._v(" "),a("div",{staticClass:"language-text line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("read: 允许用户从数据库任何集合中读取数据\nreadAnyDatabase: 同 read , 但只用于 admin 数据库，作用于所有数据库\n\nreadWrite: 读写数据库功能, 包括 读任何集合， 插入、删除、更新文件， 创建、重命名、删除集合\nreadWriteAnyDatabase:  同 readWrite ,只用于 admin 数据库\n\ndbAdmin: 读写数据库功能，外加 清理、修改、压缩、得到统计概要，并进行验证\ndbAdminAnyDatabase： 同上述\n\nclusterAdmin: 对数据库一般的管理，包含连接、集群、复制、列出数据库、创建和删除数据库\n\nuserAdmin: 允许用户创建和修改数据库的用户账户\nuserAdminAnyDatabase: 同上述\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])])]),s._v(" "),a("li",[a("p",[a("code",[s._v("createUser()")]),s._v("  创建用户使用字段")])])]),s._v(" "),a("div",{staticClass:"language-text line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("user: string 用户名\nroles: Array 用户角色\npwd: hash or String [可选] 密码\nuserSource: &lt;database> [可选] 指向相同用户创建的另一个数据库，不能与 pwd 同时出现\notherDBRoles: {\n  &lt;database>: [roles],\n  &lt;database>: [roles]\n\n} [可选] 在个用户在其它数据库中的角色， 只能在 admin 数据库中使用\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("h4",{attrs:{id:"配置访问控制"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置访问控制"}},[s._v("#")]),s._v(" 配置访问控制")]),s._v(" "),a("ol",[a("li",[a("p",[s._v("创建 "),a("strong",[s._v("用户管理员")]),s._v(" ：只有创建用户的权限，没有管理数据库或其他管理功能")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" use admin\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" db.createUser"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    user: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"useradmin"')]),s._v(",\n    pwd: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"useradmin"')]),s._v(",\n    roles: "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"userAdminAnyDatabase"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("打开身份验证, 重新启动 MongoDB:  "),a("code",[s._v("$ mongodb --dbpath=C:\\mongodata\\db --auth")])])]),s._v(" "),a("li",[a("p",[s._v("修改配置文件 mongod.cfg")]),s._v(" "),a("div",{staticClass:"language-text line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("systemLog:\n    destination: file\n    path: c:\\mongodata\\log\\mongod.log\nstorage:\n    dbPath: c:\\mongodata\\db\nsecurity:\n    authorization: enabled\nnet:\n    port: 27017\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("开启 mongodb 服务：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 进入方式一、 打开mongo shell")]),s._v("\n$ mongo\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" use admin\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" db.auth"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"useradmin"')]),s._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"useradmin"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" // 输入账户名与密码\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 进入方式二、 打开mongo shell")]),s._v("\n$ mongo admin "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--username")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"useradmin"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--password")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"useradmin"')]),s._v("\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("创建 "),a("strong",[s._v("数据库管理")]),s._v(" 账户: 访问所有数据库、创建新数据库、并管理MongoDB的集群和副本的能力")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" use admin\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" db.createUser"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    user: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"dbadmin"')]),s._v(",\n    pwd: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"dbadmin"')]),s._v(",\n    roles: "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"readWriteAnyDatabase"')]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"dbAdminAnyDatabase"')]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"clusterAdmin"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("启动方法同上")])])]),s._v(" "),a("hr"),s._v(" "),a("div",{staticClass:"language-mongo line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('db.createUser({user: "zxx", pwd: "12345678", roles: ["readWriteAnyDatabase", "dbAdminAnyDatabase", "clusterAdmin"]})\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"nodejs安装与启动"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nodejs安装与启动"}},[s._v("#")]),s._v(" nodeJS安装与启动")]),s._v(" "),a("p",[a("a",{attrs:{href:"#%E7%9B%AE%E5%BD%95"}},[s._v("目录")])]),s._v(" "),a("ol",[a("li",[a("p",[s._v("下载 node 安装包，并安装, 安装成功与否 "),a("code",[s._v("node -v")]),s._v(" "),a("code",[s._v("npm -v")]),s._v(";")])]),s._v(" "),a("li",[a("p",[s._v("安装 "),a("code",[s._v("cnpm")]),s._v(" 淘宝镜像 "),a("code",[s._v("$ npm install -g cnpm --registry=https://registry.npm.taobao.org")])])]),s._v(" "),a("li",[a("p",[s._v("不使用 "),a("code",[s._v("cnpm")]),s._v(" 改用镜像文件: "),a("code",[s._v("npm install --registry=https://registry.npm.taobao.org")]),s._v(" "),a("code",[s._v("npm config set registry https://registry.npm.taobao.org")])])]),s._v(" "),a("li",[a("p",[s._v("npm 指定版本下载 "),a("code",[s._v("npm install jquery@1.11.3 --save")])])]),s._v(" "),a("li",[a("p",[a("code",[s._v("npm init")]),s._v(": 初始化")])]),s._v(" "),a("li",[a("p",[s._v("nodeJs 升级：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("    $ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-g")]),s._v(" n\n       n stable\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("npm 升级： "),a("code",[s._v("$ npm -g install npm@next")])])])]),s._v(" "),a("h3",{attrs:{id:"express-使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#express-使用"}},[s._v("#")]),s._v(" Express 使用")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"http://www.expressjs.com.cn/",target:"_blank",rel:"noopener noreferrer"}},[s._v("官网"),a("OutboundLink")],1)]),s._v(" "),a("li",[s._v("使用 "),a("code",[s._v("express-generator")]),s._v(" 应用造成器 "),a("a",{attrs:{href:"http://www.expressjs.com.cn/starter/generator.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("教程"),a("OutboundLink")],1)]),s._v(" "),a("li",[s._v("使用 "),a("code",[s._v("express --help")]),s._v(" 查看说明文档")])])])}),[],!1,null,null,null);a.default=e.exports}}]);
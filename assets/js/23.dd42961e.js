(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{297:function(e,t,a){e.exports=a.p+"assets/img/asyncDefer.ff9ba469.png"},298:function(e,t,a){e.exports=a.p+"assets/img/asyncDefer2.e90698f0.png"},337:function(e,t,a){"use strict";a.r(t);var v=a(10),_=Object(v.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"script-标签中-async-与-defer-的区别"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#script-标签中-async-与-defer-的区别"}},[e._v("#")]),e._v(" script 标签中 async 与 defer 的区别")]),e._v(" "),t("ul",[t("li",[t("img",{attrs:{src:a(297),alt:"加载与执行"}})]),e._v(" "),t("li",[t("img",{attrs:{src:a(298),alt:"加载与执行"}})])]),e._v(" "),t("h2",{attrs:{id:"区别"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#区别"}},[e._v("#")]),e._v(" 区别")]),e._v(" "),t("ul",[t("li",[e._v("都是异步加载，不会阻止DOM解析")]),e._v(" "),t("li",[e._v("async: 加载完成之后就执行，执行时，阻止 DOM 解析")]),e._v(" "),t("li",[e._v("defer: 加载完成之后不立即执行，在文档解析完成之后,在 DOMContentLoaded 事件之前执行")])]),e._v(" "),t("h2",{attrs:{id:"html-页面生命周期"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#html-页面生命周期"}},[e._v("#")]),e._v(" HTML 页面生命周期")]),e._v(" "),t("blockquote",[t("p",[t("a",{attrs:{href:"https://segmentfault.com/a/1190000011468675",target:"_blank",rel:"noopener noreferrer"}},[e._v("参考：页面生命周期：DOMContentLoaded, load, beforeunload, unload"),t("OutboundLink")],1)])]),e._v(" "),t("ul",[t("li",[t("p",[t("code",[e._v("DOMContentLoaded")])]),e._v(" "),t("ul",[t("li",[e._v("浏览器已经完全加载了HTML，DOM树已经构建完毕，但是像是 "),t("code",[e._v("<img>")]),e._v(" 和样式表等外部资源可能并没有下载完毕。")]),e._v(" "),t("li",[e._v("js可以访问所有DOM节点，初始化界面")]),e._v(" "),t("li",[e._v("document 对象触发 "),t("code",[e._v('document.addEventListener("DOMContentLoaded", ready);')])]),e._v(" "),t("li",[e._v("DOMContentLoaded需要等待脚本的执行，脚本又需要等待样式的加载")])])]),e._v(" "),t("li",[t("p",[t("code",[e._v("load")])]),e._v(" "),t("ul",[t("li",[e._v("浏览器已经加载了所有的资源（图像，样式表等）")]),e._v(" "),t("li",[e._v("附加资源已经加载完毕，可以在此事件触发时获得图像的大小（如果没有被在HTML/CSS中指定）")]),e._v(" "),t("li",[e._v("window 触发")])])]),e._v(" "),t("li",[t("p",[t("code",[e._v("beforeunload/unload")])]),e._v(" "),t("ul",[t("li",[e._v("当用户离开页面的时候触发")]),e._v(" "),t("li",[e._v("用户正在离开页面：可以询问用户是否保存了更改以及是否确定要离开页面。")]),e._v(" "),t("li",[e._v("window 触发")])])]),e._v(" "),t("li",[t("p",[e._v("document.readyState属性给了我们加载的信息，有三个可能的值：")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("loading")]),e._v(" 加载 - document仍在加载。")]),e._v(" "),t("li",[t("code",[e._v("interactive")]),e._v(" 互动 - 文档已经完成加载，文档已被解析，但是诸如图像，样式表和框架之类的子资源仍在加载。")]),e._v(" "),t("li",[t("code",[e._v("complete")]),e._v(" - 文档和所有子资源已完成加载。状态表示 load 事件即将被触发。")])])]),e._v(" "),t("li",[t("p",[e._v("readystatechange 是追踪页面加载的一个可选的方法")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("document.addEventListener('readystatechange', () => console.log(document.readyState));")])])])])]),e._v(" "),t("h2",{attrs:{id:"html5-标准-type-属性"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#html5-标准-type-属性"}},[e._v("#")]),e._v(" HTML5 标准 type 属性")]),e._v(" "),t("p",[e._v("对应值为 "),t("code",[e._v("module")]),e._v(" 。让浏览器按照 ECMA Script 6 标准将文件当作模块进行解析，默认阻塞效果同 "),t("code",[e._v("defer")]),e._v("，也可以配合 "),t("code",[e._v("async")]),e._v(" 在请求完成后立即执行。")])])}),[],!1,null,null,null);t.default=_.exports}}]);
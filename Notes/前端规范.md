# 时代创信前端技术规范

## 目录
 - [页面](#页面)
 - [SEO](#seo)
 - [性能](#性能)
 - [交互](#交互)
 - [代码](#代码)
 - [项目修改](#项目修改)
 - [其它](#其它)

------------

### 页面

1. 每个页面必须有ico图标, 名称为： *`favicon.ico`*,  大小为 *`16*16`* 或 *`32*32`*;
2. 网站的下方必须要有 ***`技术支持:时代创信`***  或   ***`网站建设:时代创信`*** , 冒号使用 *英文* , 在新窗口中打开链 `target="_blank"`;
3. 把所有的图片尺寸样式都写在页面里面, 便于后台编写程序, 可采用注释方式写于页面图片引入位置处;
4. 必须保证跟设计图一致（包括细节），可使用 `AlloyDesigner` 或 `1px` 插件进行对比， 尽量做到细致化，要把设计图体现到淋漓尽致.
5. 样式代码码涉及到用户修改数据的地方优先用*行内样式*.
6. 把全部页面全部制作出来包括重复的页面(页面数量与设计图一致)i.
7. 前端页面逻辑与需求一致, 如有需求不清处，与项目经理核实后再进行制作.
8. 页面制作完成后要完成自测，每个栏目自己必须上传五个真实数据或不同文字内容、图片尺寸以上的测试数据进行自测。
9. 响应式网站如无移动端设计图，响应方式自定义，如有不确定处，与项目经理沟通后处理。
10. 详情页页面要设置最小高度，保证页脚处于页面可视区底部，并且不要用全局样式控制用户后台编辑内容控制详情页。
11. 前端要增强逻辑性、判断性等职业综合素养.
12. 兼容性，全球五大浏览器的最新三个版本（含IE9）：`IE Chrome Firefox Safari Opera` ,制作页面要在所有浏览器中测试。
  国内浏览器占用率查看网站：  [百度流量统计](http://tongji.baidu.com/data/browser)
  全球浏览器市场占有率：[StatCounter Global Stats](http://gs.statcounter.com)  
13. 详情页内容截图即可。但详情页中的 *标题* *分享* 等固定内容不要截图。
14. 中英文网站，前端页面各出一版。 *注意页面之间的跳转要正确* 。
15. 响应式网站，要做从 *PC* 到 *移动* 所有响应无问题。
16. 页面完成后，去除所有不必要的注释与调试信息，禁止在页面中添加私人信息。
17. 页面完成后，所有页面之间链接要添加完全；
18. 文件命名
    + html css js
        - 文件名中只可由英文字母 `a~z` 、排序数字 `0~9` 或间隔符 `-` 或 `_` 组成。
        - 件名中禁止包含特殊符号，比如空格、$等;
        - 文件名区分大小写，统一使用小写字母;
        - 为更好的表达语义，文件名使用英文名词命名，或英文简写。
    + 图片
        - 图片统一存放在图片服务器，注意修饰性图片与内容类图片分开放置，* 如：图片存放的文件夹建议用img命名来存放logo、合并的图片等页面固定元素的图片，images放一些开发会动态调用的头像、剧照图等。*
        - 图片命名：图片后缀命名一律小写。使用间隔符 `-` 进行连接。*一般背景图片以 `bg-` 开头，测试图片以 `img-` 开头，按钮图片以 `btn-` 开头，图标图片以 `icon-` 开头，聚合图以 `spr-` 开头，后跟英文单词，不推荐使用汉语拼音，如果名称过长，适当使用缩写*

19. 页面所有代码未完成项或优化项，采用 `TODO:` 注释，说明要完成内容。

-------------

### SEO
[目录](#目录)

1. 尽量使用 `H1~H6 strong` 等语义化利于 ***seo的标签*** ,  每个页面有且仅有一个 `H1` 标签;
3. 页面添加TDK. `title keywords description `， 如后台套页面，不要添加内容，只要写出标签即可。
4. 每个图片描述 `alt` 必须要有, 后台上传图片的时候要附带可修改图片描述;
5. 站点地图 `sitemap` 一般分为两种： *HTML 站点地图(百度)* 和 *XML站点地图(谷歌)(Sitemaps)* , 有后台的网站, 站点地图由后台人员制作;
6. 每个网站都要建立一个简单的404页面命名 `404.html`, 把 `404.html` 放置在网站根目录;


------------

### 性能
[目录](#目录)

1. 轮播图滚动时间设置为：***3-5秒***
2. 网站初次加载速度必须满足 ***6秒*** 准则。
3. 搜索框及登录框必须要加回车确认提交功能.
4. 一个标签上引用的className不要过多，越少越好。
5. 页面中尽量不要引入超过四个样式表.
6. 不要将css选择器写的过于冗长，这会额外增加文件大小并且限制了太小范围的选择器，使树形结构过于严格应用范围过于局限，建议3-4个长度之内写完。选择器并不需要完整反映结构嵌套顺序，相反，能简则简。
7. 在不同浏览器下，所有页面如非特殊要求，采用 `渐近增强` 方式开发；移动端页面显示要合理，尽量统一，注意清除 `safari` 浏览器表单元素默认样式清除问题。

------------

### 交互
[目录](#目录)

1. 前端页面制作能使用效果的，优先选用效果，如触发、交互等, 效果整体协调，流畅.
2. 鼠标小手的显示，有交互的地方必须要显示小手，无交互的地方一定不要有小手; 注意 `a` 标签如无 `href` 属性，无小手形状；`click` 等点击事件添加时，注意不要忘添加 `cursor: pointer;` 属性。
3. 弹窗文字等提示必须规范，符合常理。
4. 文本框的内容必须要有符合常规的正则等相关约束，如：登录、注册、搜索等。
5. banner图必须要做出 *手动* 或 *自动滚动* 效果。
6. 动作指令的按钮添加悬浮效果。
7. 新闻列表的图片、标题、内容都要添加链接跳转到详情。
8. 实现分享按钮功能，使用百度插件。
9. 地图使用百度地图等做成活的。
10. 手机电话点击直接括号。
12. logo 图片跳转首页。
13. 导航、选项卡、左侧菜单、面包屑导航最后一级，要添加默认样式，同时添加 `active` 类时，保持高亮。
14. PC端所有图片添加 `hover` 效果，移动端不添加 `hover` 效果。
15. 注意各交互多线程与快速点击可能带来的问题，如获取验证码倒计时。
16. 表单提交时要对整个表单项填写进行验证。
17. 手机验证码获取要做手机号格式验证，如手机号码格式不正确，禁止获取验证码；并且要添加验证码倒计时。
18. 中英文等多语言网站，手机号验证时，不同国家的手机号验证方式不一样，不知道验证格式的，只验证数字即可。


----------

### 代码
[目录](#目录)

 > **不管有多少人共同参与同一项目，一定要确保每一行代码都像是同一个人编写的**   
 > **各模块开始与结束，添加注释说明**   
 > **注释如有必要，尽量详细**

#### html 
1. 全局样式及行内样式要规范书写，由于部分页面后期需要后台动态修改内容，所以编写代码一定要注意不要与全局样式所冲突。
2. 所有代码使用 **`UTF-8`** 格式。
3. 中文网站中 `html` 使用语言为 `zh-CN`: `<html lang="zh-CN">`;
5. 尽量遵循 HTML 标准和语义，但是不要以牺牲实用性为代价。任何时候都要尽量使用最少的标签并保持最小的复杂度。
6. table不建议用于布局，但表现具有明显表格形式的数据，table还是首选。
6. 用于循环的代码段，如非必要，所有循环体代码结构保持一致。
7. 结构顺序和视觉顺序基本保持一致。
8. 结构、表现、行为三者分离，避免内联。
9. 保持良好的简洁的树形结构。
10. 结构上如果可以并列书写，就不要嵌套。
11. 如果结构已经可以满足视觉和语义的要求，那么就不要有额外的冗余的结构。
13. 对于一个语义化的内部标签，应尽量避免使用className。
14. 尽可能以最严格的xhtml strict标准来嵌套，比如内联元素不能包含块级元素等等。
15. 以实体代替与HTML语法相同的字符，避免浏览解析错误。
16. 属性顺序
    + class
    + id, name
    + data-*
    + src, for, type, href, value
    + title, alt
    + role, aria-*


#### CSS
[目录](#目录)
1. 样式全部使用类样式， 不用ID写样式。
2. 样式表引入不使用 `@import` 方式, 能外链的样式，不允许写入 `HTML` 中。
2. 以 `-` 做为 类名 或 ID 名连字符, 不建议使用 `_`，统一使用小写字母 。
3. 命名应简约而不失语义.
4. 有浏览器私有标志的样式，私有在前，标准在后。
5. 不要以没有语义的标签作为选择器，这会造成大面积污染，除非你可以断定现在或将来你的这个选择器不会污染其他同类。
6. 涉及到 `js` 交互控制的类名，如 导航高亮 等，统一使用 `active` 类名。
7. 样式表选择器和声明分离，每个选择器和属性声明使用新一行。
8. css代码完成后，要手动添加、用 `AutoPrefixer` 工具或其它方法，添加浏览器兼容前缀，兼容浏览器以项目合同要求为准;
9. 选择器顺序
    +  从大到小（以选择器的范围为准）  
    +  从低到高（以等级上的高低为准）  
    +  从先到后（以结构上的先后为准）  
    +  从父到子（以结构上的嵌套为准）  

10. 声明顺序
    - Positioning
      ```css
       /* Positioning */
        position: absolute;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
        z-index: 100;
      ```
    - Box model 盒模型
      ```css
      /* Box model */
        display: block;
        box-sizing: border-box;
        width: 100px;
        height: 100px;
        padding: 10px;
        border: 1px solid #e5e5e5;
        border-radius: 3px;
        margin: 10px;
        float: right;
        overflow: hidden;
      ```
    - Typographic 排版
      ```css
      /* Typographic */
        font: normal 13px "Helvetica Neue", sans-serif;
        line-height: 1.5;
        text-align: center;
      ```
    - Visual 视觉效果
      ```css
      /* Visual */
        background-color: #f5f5f5;
        color: #fff;
        opacity: .8;
  
      ```
    - 其它
      ```css
      /* Other */
        cursor: pointer;
      ```
11. 要求：
    + 清晰的CSS模块  
    + 便于阅读修改  
    + 如果CSS可以做到，就不要使用JS
    + 原则上不允许使用Hack;
    + 避免耗性能的属性
    + 背景图优化合并

#####  TODO: 添加 SCSS 规范

#### JS
[目录](#目录)

1. JS 中 `jquery` 只能引入一个，对 IE 浏览器兼容性有要求的，要使用 2.0 以下版本;
1. 待办事项用 `todo` 注释, 尽量不用模块注释.
2. 去除掉所有的 `console.log` 等调试信息。
2. 命名
    -  变量, 使用 Camel 命名法。`var loadingModules = {};`
    - 私有属性、变量和方法以下划线 _ 开头。`var _privateMethod = {};`
    - 常量, 使用全部字母大写，单词间下划线分隔的命名方式。`var HTML_ENTITY = {};`
    - 函数, 使用 Camel 命名法。函数的参数, 使用 Camel 命名法。`function stringFormat(theBells) {}`
    - 类, 使用 Pascal 命名法 , 类的 方法 / 属性, 使用 Camel 命名法.
    - 枚举变量 使用 Pascal 命名法。枚举的属性， 使用全部字母大写，单词间下划线分隔的命名方式。
    - 由多个单词组成的 缩写词，在命名中，根据当前命名法和出现的位置，所有字母的大小写与首字母的大小写保持一致。
3. 注释
    + 文件注释
      ```js
       /**
        * @fileoverview Description of file, its uses and information
        * about its dependencies.
        * @author user@meizu.com (Firstname Lastname)
        * Copyright 2009 Meizu Inc. All Rights Reserved.
        */
      ```
    + 函数注释
      ```js
      /**
       * 函数描述
       *
       * @param {string} p1 参数1的说明
       * @param {string} p2 参数2的说明，比较长
       *     那就换行了.
       * @param {number=} p3 参数3的说明（可选）
       * @return {Object} 返回值描述
       */
      ```

----------

### 项目修改

#### 修改须知
1. .NET 后台网站内容更改，必须先在TFS上更改，且测试无误后，再上传至FTP，如项目未在TFS中，先向后台主管提出，让其将项目配置于TFS中，之后再更改；
2. PHP 后台网站，项目更改前，修改前，必须对要修改文件更行备份，修改完成测试无误且用户确认后，可对备份文件自行处理；

#### CSS修改
1. CSS样式修改时，不要轻易更改全局CSS样式，如有更改，须自行对全站进行测试；


----------
### 其它
[目录](#目录)

+ 设计
    - 设计时对表单验证规范，与提示内容样式进行设计；
    - 在进行登录时添加验证码；




-------

文档修改记录
+ 2018-3-12： 新增 5 条
    1. 新增 项目修改规范大类 3条内容
    2. 新增 HTML类  页面语言 1条
    3. 新增 页面类 TODO 注释 1条
    4. 优化部分条目序号


------